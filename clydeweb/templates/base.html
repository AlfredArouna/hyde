<!DOCTYPE HTML>
<html>
  <head>
    <title>Clyde - Hyde on the Cloud</title>
    <link rel="stylesheet" href="{{static_url("clyde.css")}}" 
        type="text/css" media="screen" charset="utf-8">        
        <script type="text/javascript" src="http://www.google.com/jsapi"></script>
        <script type="text/javascript">
            google.load("jquery", "1.3");
        </script>                   
        <script src="{{static_url("jstree/jquery.tree.min.js")}}" type="text/javascript" charset="utf-8"></script> 
        <script src="{{static_url("markitup/jquery.markitup.pack.js")}}" type="text/javascript" charset="utf-8"></script> 
        <script src="{{static_url("markitup/sets/default/set.js")}}" type="text/javascript" charset="utf-8"></script> 
        
        <link rel="stylesheet" type="text/css" href="{{static_url("markitup/skins/simple/style.css")}}" />
        <link rel="stylesheet" type="text/css" href="{{static_url("markitup/sets/default/style.css")}}" />
           <script type="text/javascript">
                  $(function(){  
                     $("#editor").markItUp();  
                     $("#files").tree({ 
                         ui : { 
                             dots: false,
                             theme_name: "apple",
                             theme_path: "{{static_url("jstree/themes/apple/style.css")}}"
                         }, 
                         types : {
                             "file" : {
                                        max_children : 0,
                                        icon : { 
                                            image : "{{static_url("jstree/themes/apple/file.png")}}"
                                        }        
                             }
                         },
                        data : {
                            type: 'json',
                            opts : {
                                    url: '/site/mysite/files'
                            }
                        },
                        callback : {
                            onchange: function(node, tree){
                                $("#editor").load(
                                    '/site/mysite/content?' + 
                                    node.attributes.tooltip);                            
                            }
                        }

                     }); 
                  });
              </script>
  </head>
  <body>
      <header>                              
          <hgroup>
              <h1>Clyde</h1>
          </hgroup>
          <nav>
            <ul> 
                <li>Sites</li>
                <li>Sign Out</li>
            </ul>    
          </nav>
      </header>
      <aside> 
          <hgroup>
              <h2>{{site}}</h2>
           </hgroup>   
           <div id="files"></div>
      </aside>                           
      <section>
          <p>
            Select a file from the file navigator to the left to edit
            or press the add button to create a new file. When done 
            press the publish button if you are ready.
          </p>
          <textarea id="editor"></textarea>
      </section>
      <footer>
          <ul>      
            <li><a rel="external" href="http://ringce.com/hyde">
                Hyde</a></li>
            <li><a rel="external" 
            href="http://github.com/lakshmivyas/hyde">
                Source</a></li>
            <li><a rel="external"
            href="http://groups.google.com/group/hyde-dev">
                Discussions</a></li>
      </footer>  
  </body>
</html>